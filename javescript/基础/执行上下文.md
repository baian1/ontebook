# 执行上下文

js 引擎有一个执行上下文栈

在执行 js 文件的时候,首先会创建一个全局的执行上下文  
然后根据函数的调用,不断创建新的函数上下文和删除上下文

执行上下文中保存了：

- 变量对象(Variable object，VO)
- 作用域链(Scope chain)
- this

# 变量对象的保存

## 全局上下文

预定义的对象，作为 JavaScript 的全局函数和全局属性的占位符。通过使用全局对象，可以访问所有其他所有预定义的对象、函数和属性。

## 函数上下文

在函数上下文中，我们用活动对象(activation object, AO)来表示变量对象。

活动对象和变量对象其实是一个东西，只是变量对象是规范上的或者说是引擎实现上的，不可在 JavaScript 环境中访问，只有到当进入一个执行上下文中，这个执行上下文的变量对象才会被激活，所以才叫 activation object 呐，而只有被激活的变量对象，也就是活动对象上的各种属性才能被访问。

活动对象是在进入函数上下文时刻被创建的，它通过函数的 arguments 属性初始化。arguments 属性值是 Arguments 对象。

## 作用域链

函数在创建的时候就会保存所有父变量对象到其中,使用 scope 来实现

同时函数在执行的时候还有会用 arguments 创建活动对象，随后初始化活动对象，加入形参、函数声明、变量声明
